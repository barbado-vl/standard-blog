# standart-blog
[Лабораторный проект по видео Archakov Blog: Полный Full Stack курс Node.js + React.js для начинающих за 4 часа (MongoDB, Express)](https://www.youtube.com/watch?v=GQ_pTmcXNrQ).

Задача – сайт-блог.

Модель: а) статьи, б) пользователи, г) дополнительные данные для статьи: комментарии пользователей, тэги.

Backend и Frontend разделены на отдельные приложения.

## Backend
### Платформа и зависимости
- Среда исполнения – node.js
- Хостинг и обработка HTTP сообщений – express
- БД –mongoose (MongoDB)
- Аутентификация и Авторизация – jsonwebtoken.

- express validator – валидация модели, читать ниже
- bcrypt – для кэширования пароля
- cors – для CORS валидации сайта
- multer – создание хранилища для ресурсов (картинок)
- nodemon – dev режим под node.js, для автоматического перезапуска

### Структура
- Базовые папки и файлы:
  - папка node_modules
  - файл package.json – зависимости, параметры, команды/скрипты
  - файл package-lock.json – зависимости
  - файл index.js – основной файл проекта
- Добавляем папки: model – модель
  - controllers – для обработки HTTP
  - PostController.js
  - UserController.js
  - CommentController.js - домашнее задание от автора видео.
  - index.js – объединяет экспорт файлов выше
- Добавляем папку utils – дополнительный функционал
  - checkAuth.js – авторизация, проверка JWT ключа
  - handleValidationErrors.js – код пакета express-validator
  - index.js – объединяет экспорт файлов выше
- Добавляем папку uploads – ресурсы, типа картинок
- Добавляем файл: validations.js

Работа начиналась с базового файла index.js и папки и файлов модели.
Остальные папки и файлы подключались по мере подключения функционала и рефакторинга кода (файлы экспорта модулей index.js появились последними). 

### Корневой файл index.js и Основной функционал
const app = express(); -- подключение модуля express, который будет внедрять в себя все остальное.
Далее по зонам. Порядок зон важен. Зоны:
  - подключение хранилища (подключаем multer)
  - подключение дополнительных объектов (express.json(), папки хранилища uploads, cors)
  - подключение MongoDB (используем mongoose, которой передаем строку подключения, сама БД создается отдельно, читать ниже)
  - обработчики действий (CRUD запросы)
    > app.post('/posts/:id', checkAuth, postCreateValidation, handleValidationErrors, PostController.create);
  - сервер (задаем порт для localhost)

В обработчик действия передаем параметры:
  - (обязательно) адрес 
  - функция проверки авторизации (checkAuth из модуля checkAuth.js)
  - функция валидации (одна из функций модуля validation.js)
  - (обязательно) функция контроллера (можно стрелочной, можно отдельно, можно из модуля)


### Контроллеры (функции CRUD)
### Модель
### Авторизация (checkAuth)
### Валидация данных.



## Frontend
